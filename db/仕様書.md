# DB仕様書

## 保存するjson

### ファイル構成


```
db
 L entry            記事関連のデータを保管する場所
    L index         バージョン管理等、記事の情報を記事IDごとに管理する
       L 0.json     記事IDでファイル名をつけるので、０からの連番
    L body          全記事、全バージョンのテキストの保管場所
       L 0_0.json   [記事ID]_[バージョン].json
       L 0_1.json   バージョンは1からの連番
       L 0_2.json
```

### セーブするときにブラウザから送信するjson

```
{
  "id": 12  // 記事id,
  "title": "タイトル" // タイトル
  "html" : "<h1>サンプル</h1>\n<p>ほげほげ</p>\n・・・",    // 改行はJavascript側で事前に\nにエスケープしておく
  "description" : "誤字脱字の修正"         // 概要説明
  "author" : "magcho",        // ユーザ名
  "eyecatch": "sample.jpg" // アイキャッチ画像のパス
}
```
